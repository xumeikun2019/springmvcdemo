package com.cf.project.mybatis.dao;

import java.util.List;
import java.util.Map;

import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Update;

import com.cf.util.JsonListResult;

public interface WxRequestMapper {
	/**
	 * 根据小程序登录用户 查询访客申请信息
	 * @param user
	 * @return
	 */
	@Select("select  *,date_format(a.add_time,'%Y-%m-%d %H:%i:%s') apply_time from c_visitor a ,c_user  b where a.user_id = b.id and b.username = #{user} and a.state = 'E' order by apply_time  ")
	List<Map<String, Object>> findVisitByName(String user);
	/**
	 * 查询访客明细信息
	 * @param vid
	 * @return
	 */
	@Select("select *  from c_visitor_user  where visitor_id = #{vid}")
	List<Map<String, Object>> findVisitUserByName(String vid);
	
	
	/**
	 * 审核
	 * @param id 主键
	 * @return
	 */
	@Update("update c_visitor set state = #{state,jdbcType=VARCHAR} WHERE ID = #{id}")
	int updateVisitorStateById(@Param("id")String id, @Param("state")String state);
	
	/**
	 * 查询打卡记录
	 * @param uid 用户名
	 * @param date 查询月份
	 * @return
	 */
	//@Select("select DATE_FORMAT(add_time,'%Y-%m-%d') date,'true' isSign from c_attendance_record where add_time like #{date} and type = '正常' and user_id = #{uid} group by date")
	@Select("select  DATE_FORMAT(sign_time,'%Y-%m-%d') date ,case type when '正常' then 'true' when '迟到' then 'late' end isSign from c_attendance_record where sign_time like #{date} and user_id = #{uid} ")
	List<Map<String, Object>> findCheckRecordByUidAndDate(@Param("uid")String uid, @Param("date")String date);
	
	
	@Select("select feature from c_user where wechat_id = #{openid}")
	List<Map<String, Object>> findFaceImg(String openid);
	
	@Select("select a.*,d.name from c_meeting_order a,c_meeting_user b,c_user c,c_place d where  a.id = b.meeting and b.user =  c.id and a.order_place_id = d.id and username =#{user} and a.time_start like #{date} order by  a.time_start")
	List<Map<String, Object>> findMeets(@Param("date")String date, @Param("user")String user);
	
	@Select("select c.role_name from c_user a ,sys_user_role  b,sys_role c  where a.id = b.user_id and b.role_id = c.id and a.username = #{user}")
	List<Map<String, Object>> findRoleIsleader(String user);
	
	@Select("select * from (SELECT	'11'  date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and  a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'12' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id \r\n" + 
			"			union\r\n" + 
			"			SELECT	'21' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'22' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'31' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'32' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'41' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'42' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'51' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'52' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'61' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'62' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'71' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'72' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			) a where FIND_IN_SET(#{leaderid},a.leaderid)  order by a.time_start ")
	List<Map<String, Object>> findLeaderMeetsByleaderid(String leaderid);
	
	
	
	@Select("select * from (SELECT	'11'  date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and  a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'12' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id \r\n" + 
			"			union\r\n" + 
			"			SELECT	'21' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'22' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'31' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'32' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'41' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'42' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'51' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'52' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'61' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'62' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			union\r\n" + 
			"			SELECT	'71' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"			union \r\n" + 
			"			SELECT	'72' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,GROUP_CONCAT(c.id ) leaderid,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"			WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"			) a  order by a.time_start ")
	List<Map<String, Object>> findLeaderMeets();
	@Select("select * from (SELECT	'11'  date, a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and  a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'12' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'21' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'22' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'31' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'32' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'41' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'42' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'51' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'52' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'61' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'62' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'71' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'72' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			") a order by a.time_start")
	List<Map<String, Object>> findLeaderMeetsNext();
	
	
	@Select("SELECT a.realname,a.id FROM c_user a ,sys_user_role b , sys_role c WHERE a.id = b.user_id and b.role_id = c.id and  c.role_name = '领导'")
	List<Map<String, Object>> findLeader();
	
	
	
	@Select("select * from (SELECT	'11'  date, a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and  a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'12' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'21' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'22' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'31' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'32' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'41' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'42' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'51' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'52' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'61' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'62' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union\r\n" + 
			"SELECT	'71' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"SELECT	'72' date,a.meeting_name,	a.time_start,	d. NAME place,	GROUP_CONCAT(c.realname ) leader,	lxr.realname lxr 	FROM	c_meeting_order a,	c_place d,	c_user lxr,	c_user c LEFT JOIN c_meeting_user b on b. USER = c.id \r\n" + 
			"WHERE	b.type=0 and a.id = b.meeting and a.order_user_id = lxr.id AND a.order_place_id = d.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			") a where FIND_IN_SET(#{leaderid},a.leaderid) order by a.time_start")
	List<Map<String, Object>> findLeaderMeetsNextByleaderid(String leaderid);
	
	
	
	@Select("select * from (select '11' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '12' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '21' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '22' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '31' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '32' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '41' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '42' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '51' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '52' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '61' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '62' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '71' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '72' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			")a order by a.time_start")
	List<Map<String, Object>> findCompanyMeets();
	
	
	
	@Select("select * from (select '11' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '12' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '21' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '22' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '31' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '32' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '41' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '42' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '51' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '52' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '61' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '62' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '71' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '72' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 1		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			")a  where FIND_IN_SET(#{companyid},a.depid)  order by a.time_start")
	List<Map<String, Object>> findCompanyMeetsByCompanyid(String companyid);
	
	
	
	@Select("select * from (select '11' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '12' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '21' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '22' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '31' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '32' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '41' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '42' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '51' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '52' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '61' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '62' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '71' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '72' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			")a order by a.time_start")
	List<Map<String, Object>> findCompanyMeetsNext();
	
	
	
	@Select("select * from (select '11' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '12' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 2 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '21' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '22' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 3 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '31' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '32' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 4 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '41' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '42' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 5 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '51' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '52' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 6 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '61' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '62' date,lxr.realname lxr, a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 7 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '71' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') < '12:00:00'GROUP BY a.id\r\n" + 
			"union \r\n" + 
			"select '72' date, lxr.realname lxr,a.meeting_name,a.time_start,	b. NAME place ,GROUP_CONCAT(c.name ) depname,GROUP_CONCAT(c.id ) depid from c_meeting_order a,c_place b,	c_user lxr,sys_department c LEFT JOIN c_meeting_user d on d.user = c.id where d.type =1 and  a.id = d.meeting and  a.order_user_id = lxr.id and a.order_place_id = b.id AND DAYOFWEEK(a.time_start) = 1 AND a.time_start >= (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 8		))AND a.time_start < (	SELECT		subdate(			curdate(),			date_format(curdate(), '%w') - 15		))AND date_format(time_start, '%H:%i:%S') >= '12:00:00'GROUP BY a.id\r\n" + 
			")a  where FIND_IN_SET(#{companyid},a.depid) order by a.time_start")
	List<Map<String, Object>> findCompanyMeetsNextByCompanyid(String companyid);
	
	@Select("select a.id ,a.meeting_name,p.name,u.realname ,d.name dep ,a.order_zcr_id,date_format(a.time_start,'%Y-%m-%d %H:%i:%s') time_start,date_format(a.time_end,'%Y-%m-%d %H:%i:%s') time_end from c_meeting_order a,c_place p,c_user u,sys_department d where a.meeting_step = '1' and a.order_place_id = p.id and a.order_dept_id= d.id and a.order_user_id = u.id ")
	List<Map<String, Object>> findApproveMeet();
	
	
	@Update("update c_meeting_order set meeting_step = #{state,jdbcType=VARCHAR} WHERE ID = #{id}")
	int updateMeetStateById(@Param("id")String id, @Param("state")String state);   
	
	
//	/**
//	 * 审核不通过
//	 * @param id 主键
//	 * @return
//	 */
//	@Update("update c_visitor set state = 'N' WHERE ID = #{id}")
//	int updateVisitorStateFalseById(String id); 
}
